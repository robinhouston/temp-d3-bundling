!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.d3_polygon={})}(this,function(n){"use strict";function r(n){for(var r,t=-1,o=n.length,e=n[o-1],f=0;++t<o;)r=e,e=n[t],f+=r[1]*e[0]-r[0]*e[1];return f/2}function t(n){for(var r,t,o=-1,e=n.length,f=0,u=0,i=n[e-1],l=0;++o<e;)r=i,i=n[o],l+=t=r[0]*i[1]-i[0]*r[1],f+=(r[0]+i[0])*t,u+=(r[1]+i[1])*t;return l*=3,[f/l,u/l]}function o(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0])}function e(n,r){return n[0]-r[0]||n[1]-r[1]}function f(n){for(var r=n.length,t=[0,1],e=2,f=2;r>f;++f){for(;e>1&&o(n[t[e-2]],n[t[e-1]],n[f])<=0;)--e;t[e++]=f}return t.slice(0,e)}function u(n){if((t=n.length)<3)return null;var r,t,o=new Array(t),u=new Array(t);for(r=0;t>r;++r)o[r]=[+n[r][0],+n[r][1],r];for(o.sort(e),r=0;t>r;++r)u[r]=[o[r][0],-o[r][1]];var i=f(o),l=f(u),g=l[0]===i[0],h=l[l.length-1]===i[i.length-1],a=[];for(r=i.length-1;r>=0;--r)a.push(n[o[i[r]][2]]);for(r=+g;r<l.length-h;++r)a.push(n[o[l[r]][2]]);return a}function i(n,r){for(var t,o,e=n.length,f=n[e-1],u=r[0],i=r[1],l=f[0],g=f[1],h=!1,a=0;e>a;++a)f=n[a],t=f[0],o=f[1],o>i!=g>i&&(l-t)*(i-o)/(g-o)+t>u&&(h=!h),l=t,g=o;return h}function l(n){for(var r,t,o=-1,e=n.length,f=n[e-1],u=f[0],i=f[1],l=0;++o<e;)r=u,t=i,f=n[o],u=f[0],i=f[1],r-=u,t-=i,l+=Math.sqrt(r*r+t*t);return l}var g="0.2.1";n.version=g,n.polygonArea=r,n.polygonCentroid=t,n.polygonHull=u,n.polygonContains=i,n.polygonLength=l});